@inherits LayoutComponentBase
@inject NavigationManager NavManager

<MudThemeProvider />
<MudDialogProvider />
<MudSnackbarProvider />

<MudLayout>

    <!-- AppBar -->
    <MudAppBar Elevation="1" Color="Color.Default">
        <MudIconButton Icon="@Icons.Material.Filled.Menu"
                       OnClick="@ToggleDrawer"
                       Color="Color.Default"
                       Edge="Edge.Start" />
        <MudText Typo="Typo.h6" Class="ml-3 text-green-600">APPLICATION</MudText>
        <MudSpacer />
        <MudIconButton Icon="@Icons.Material.Filled.AccountCircle"
                       Color="Color.Success"
                       Class="rounded-full border-2 border-green-600"
                       OnClick="@(() => NavManager.NavigateTo("/profile"))" />
    </MudAppBar>

    <!-- Responsive Drawer (expands/collapses) -->
    <MudDrawer @bind-Open="_drawerOpen"
               Variant="DrawerVariant.Mini"
               Elevation="1"
               MiniVariantWidth="56px"
               Width="220px"
               ClipMode="DrawerClipMode.Always"
               Class="custom-drawer">

        <MudNavMenu Dense="true">
            <MudTooltip Text="Favourite City">
                <MudNavLink Href="/favourites" Icon="@Icons.Material.Filled.Star">
                    @if (_drawerOpen)
                    {
                        <span>Favourite City</span>
                    }
                </MudNavLink>
            </MudTooltip>


            <MudNavLink Href="/alerts" Icon="@Icons.Material.Filled.Notifications">
                @if (_drawerOpen)
                {
                    <span>Alert</span>
                }
            </MudNavLink>

            <MudNavLink Href="/settings" Icon="@Icons.Material.Filled.Settings">
                @if (_drawerOpen)
                {
                    <span>Settings</span>
                }
            </MudNavLink>

            <MudNavLink Href="/history" Icon="@Icons.Material.Filled.History">
                @if (_drawerOpen)
                {
                    <span>History</span>
                }
            </MudNavLink>
        </MudNavMenu>
    </MudDrawer>

    <!-- Main Content Area -->
    <MudMainContent>
        @Body
    </MudMainContent>

</MudLayout>

@code {
    private bool _drawerOpen = false;

    private void ToggleDrawer()
    {
        _drawerOpen = !_drawerOpen;
    }
}
<style></style>